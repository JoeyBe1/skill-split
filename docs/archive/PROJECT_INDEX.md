# Project Index: skill-split

**Generated**: 2026-02-08 11:52 AM
**Purpose**: Token-efficient codebase overview (3KB vs 58KB = 94% savings)

---

## ğŸ“ Project Structure

```
skill-split/
â”œâ”€â”€ core/              # Core parsing and storage (16 modules)
â”œâ”€â”€ handlers/          # File type handlers (12 modules)
â”œâ”€â”€ test/              # Test suite (21 test files)
â”œâ”€â”€ demo/              # Demo scripts and examples
â”œâ”€â”€ scripts/           # Utility scripts (embeddings, monitoring)
â”œâ”€â”€ migrations/        # Database migrations (SQL)
â”œâ”€â”€ .planning/         # GSD project management
â”œâ”€â”€ .archive/          # Historical documents
â””â”€â”€ docs/              # Additional documentation
```

---

## ğŸš€ Entry Points

| Entry Point | Path | Purpose |
|-------------|------|---------|
| **CLI** | `skill_split.py` | Main CLI with 16 commands (parse, store, search, compose, etc.) |
| **Models** | `models.py` | Data classes: Section, FileMetadata, FileFormat, FileType |
| **Database Schema** | `schema.sql` | SQLite schema with CASCADE delete |

---

## ğŸ“¦ Core Modules (16)

### Parsing Pipeline
- `parser.py` - Extracts YAML frontmatter, markdown headings, XML tags
- `detector.py` - Detects file format (markdown, XML, mixed)
- `recomposer.py` - Byte-perfect round-trip reconstruction
- `validator.py` - Structure and round-trip integrity validation
- `hashing.py` - SHA256 integrity verification

### Storage & Query
- `database.py` - SQLite operations with CASCADE delete
- `query.py` - Query API for progressive disclosure
- `query_interface.py` - Unified query interface

### Remote & Deployment
- `supabase_store.py` - Supabase cloud storage
- `checkout_manager.py` - File deployment and checkout/checkin

### Advanced Features
- `hybrid_search.py` - BM25 + vector search combination
- `embedding_service.py` - OpenAI embeddings for semantic search
- `skill_composer.py` - Assemble new skills from sections
- `skill_validator.py` - Validate composed skills
- `frontmatter_generator.py` - Auto-generate YAML frontmatter

---

## ğŸ”§ Handlers (12)

### Base & Factory
- `base.py` - Abstract base class for handlers
- `factory.py` - Factory pattern for handler creation

### Detection
- `component_detector.py` - Component type detection

### Component Handlers (Phase 9)
- `plugin_handler.py` - Parse plugin.json with MCP config
- `hook_handler.py` - Parse hooks.json with shell scripts
- `config_handler.py` - Parse settings.json and mcp_config.json

### Script Handlers (Phase 10)
- `script_handler.py` - Base for script file parsing
- `python_handler.py` - Python files (class/function/method)
- `javascript_handler.py` - JavaScript/JSX files
- `typescript_handler.py` - TypeScript/TSX files with interfaces
- `shell_handler.py` - Shell script function blocks

---

## ğŸ§ª Test Coverage (21 test files)

| Category | Files |
|----------|-------|
| Core Tests | `test_parser.py`, `test_database.py`, `test_query.py`, `test_hashing.py` |
| Handler Tests | `test_plugin_handler.py`, `test_hook_handler.py`, `test_config_handler.py`, `test_script_handlers.py` |
| Integration Tests | `test_cli.py`, `test_supabase_store.py`, `test_checkout_manager.py` |
| Advanced Tests | `test_embedding_service.py`, `test_hybrid_search.py`, `test_vector_search.py` |
| Composition Tests | `test_skill_composer.py`, `test_skill_validator.py`, `test_composer_integration.py` |

**Current**: 485/485 tests passing

---

## ğŸ“š Key Documentation

| File | Purpose |
|------|---------|
| `README.md` | Complete documentation |
| `CLAUDE.md` | Project context for Claude Code |
| `EXAMPLES.md` | Usage scenarios |
| `COMPONENT_HANDLERS.md` | Handler guide |
| `DEPLOYMENT_STATUS.md` | Production capabilities |
| `VECTOR_SEARCH_GUIDE.md` | Semantic search |

---

## ğŸ”§ Configuration

| File | Purpose |
|------|---------|
| `.env` | Environment variables (Supabase URL, keys) |
| `requirements.txt` | Python dependencies |
| `.planning/config.json` | GSD workflow config |
| `.claude.json` | Claude Code project config |

---

## ğŸ”— Key Dependencies

- `supabase>=2.3.0` - Cloud storage
- `python-dotenv>=1.0.0` - Environment management
- `pytest` - Testing framework
- `pytest-cov` - Coverage reporting

---

## ğŸ“ Quick Start

```bash
# Parse and display structure
./skill_split.py parse <file>

# Store in database
./skill_split.py store <file>

# Search sections
./skill_split.py search "query" --db skill_split.db

# Compose new skill
./skill_split.py compose --sections 1,2,3 --output new_skill.md
```

---

## ğŸ¯ Current Status

- **Phase**: 02-search_fix (Planning Complete, Ready to Execute)
- **Tests**: 485/485 passing
- **Database**: 1,365 files, 19,207 sections (production)
- **Deployment**: Single-file checkout, multi-file plugins/hooks

---

*Auto-generated by sc:index-repo skill*
*Update with: `/sc:index-repo mode=update`*
