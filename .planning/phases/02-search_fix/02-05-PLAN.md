---
phase: 02-search_fix
plan: 05
type: docs
wave: 3
depends_on: ["02-01", "02-02", "02-03", "02-04"]
files_modified:
  - README.md
  - EXAMPLES.md
  - docs/CLI_REFERENCE.md
  - CLAUDE.md
autonomous: true

must_haves:
  truths:
    - "Users understand all THREE search modes: BM25 (keywords), Vector (semantic), Hybrid"
    - "Documentation explains when to use each search type"
    - "Examples demonstrate BM25, Vector, and Hybrid search workflows"
    - "Progressive disclosure navigation is clearly explained"
    - "API reference documents all QueryAPI methods with parameters"
    - "search-semantic command documented for vector/hybrid search"
  artifacts:
    - path: "README.md"
      provides: "Updated search and navigation documentation"
      contains: "search|navigation|progressive disclosure"
      min_lines: 80
    - path: "EXAMPLES.md"
      provides: "Real-world search and navigation examples"
      contains: "search.*example|navigation.*workflow"
      min_lines: 60
    - path: "docs/CLI_REFERENCE.md"
      provides: "Complete CLI command reference"
      contains: "search|next|get-section"
      min_lines: 100
  key_links:
    - from: "README.md::Search & Navigation"
      to: "EXAMPLES.md::Search Examples"
      via: "README references detailed examples"
      pattern: "EXAMPLES\\.md|search.*examples"
    - from: "docs/CLI_REFERENCE.md"
      to: "skill_split.py::commands"
      via: "CLI reference documents all commands"
      pattern: "CLI.*reference|command.*list"
---

<objective>
Create comprehensive documentation for search and navigation features, including CLI reference, usage examples, and progressive disclosure workflows.

Purpose: Users need clear documentation to leverage FTS5 search, query preprocessing, and progressive disclosure navigation. Complete documentation reduces support burden and enables effective use of skill-split capabilities.

Output: README updated, EXAMPLES.md with real workflows, CLI reference complete, all documentation verified for accuracy.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/search-investigation.md
@.planning/phases/02-search_fix/02-01-PLAN.md
@.planning/phases/02-search_fix/02-02-PLAN.md
@.planning/phases/02-search_fix/02-03-PLAN.md
@.planning/phases/02-search_fix/02-04-PLAN.md

@README.md
@EXAMPLES.md
@skill_split.py
@core/query.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update README.md with complete search documentation</name>
  <files>README.md</files>
  <action>
    Update README.md with comprehensive search and navigation sections.

    Add after Quick Start section:

    ```markdown
    ## Search

    skill-split uses SQLite FTS5 full-text search with intelligent query processing for fast, relevant results.

    ### Basic Search

    Search across all files:
    ```bash
    ./skill_split.py search "python"
    ```

    Search within a specific file:
    ```bash
    ./skill_split.py search "python" --file /skills/programming/SKILL.md
    ```

    ### Search Syntax

    skill-split provides THREE search modes for different use cases:

    ## Three Search Modes

    ### 1. BM25 Search (Keywords) - `search` command

    **Best for:** Exact keyword matching, fast text search

    ```bash
    ./skill_split.py search "python handler"
    ```

    **Features:**
    - FTS5 full-text search with BM25 ranking
    - Fast, works locally without API keys
    - Multi-word queries use OR for discovery
    - Relevance scores based on term frequency

    ### 2. Vector Search (Semantic) - `search-semantic` command

    **Best for:** Semantic similarity, concept matching

    ```bash
    ./skill_split.py search-semantic "code execution" --vector-weight 1.0
    ```

    **Features:**
    - OpenAI embeddings for semantic understanding
    - Finds conceptually similar content
    - Requires OPENAI_API_KEY and Supabase
    - Pure vector search (set --vector-weight 1.0)

    ### 3. Hybrid Search (Combined) - `search-semantic` command

    **Best for:** Best of both worlds

    ```bash
    ./skill-split.py search-semantic "python error handling" --vector-weight 0.7
    ```

    **Features:**
    - Combines BM25 keywords + Vector similarity
    - Default vector weight 0.7 (70% semantic, 30% keyword)
    - Tunable balance between precision and discovery
    - Requires OPENAI_API_KEY and Supabase

    ### Search Syntax Comparison

    | Query Type | BM25 Search | Vector/Hybrid Search |
    |------------|-------------|----------------------|
    | Single word | `python` | `python` |
    | Multi-word | `git setup` (OR) | `git setup` (semantic) |
    | Exact phrase | `"git repository"` | Semantic match |
    | Boolean ops | `python AND handler` | N/A (semantic) |

    ### Which Search to Use?

    **Use BM25 (`search`) when:**
    - You know the exact keywords
    - You want fast local search
    - You don't have API keys configured
    - You need boolean operators (AND/OR/NEAR)

    **Use Vector (`search-semantic --vector-weight 1.0`) when:**
    - You want semantic similarity
    - Exact keywords don't matter
    - You're exploring concepts
    - You have API keys configured

    **Use Hybrid (`search-semantic --vector-weight 0.7`) when:**
    - You want the best results
    - You need both keyword and semantic matching
    - You're doing comprehensive research
    - You have API keys configured

    ## Search Syntax

    The search engine automatically processes your query for optimal results:

    | Query Type | Example | Behavior |
    |------------|---------|----------|
    | Single word | `python` | Finds exact matches |
    | Multi-word | `git setup` | Finds sections with EITHER word (OR search) |
    | Exact phrase | `"git repository"` | Finds exact phrase match |
    | AND search | `python AND handler` | Finds sections with BOTH words |
    | OR search | `python OR handler` | Finds sections with EITHER word (explicit) |
    | NEAR search | `git NEAR repository` | Finds words within proximity |

    ### Relevance Scores

    Search results include BM25 relevance scores (higher = more relevant):

    ```bash
    $ ./skill_split.py search "python handler"
    Found 5 section(s) matching 'python handler':

    ID      Score   Title                                     Level
    -------- -------- -------------------------------------------- ------
    42      3.52    Python Handler Implementation              1
    15      2.18    Advanced Python Techniques                2
    8       1.05    Setup Python Environment                  1
    ```

    ### Query Processing

    skill-split intelligently converts natural language to FTS5 syntax:

    - **Multi-word queries** use OR for discovery: `git setup` → `git OR setup`
    - **Quoted phrases** preserve exact matching: `"exact phrase"`
    - **User operators** are respected: `git AND repository` uses AND as written

    This means `git setup` finds sections about git OR setup, providing broader discovery than requiring both words.

    ## Progressive Disclosure

    Load large files section-by-section to minimize token usage.

    ### List File Structure

    Show all sections with their IDs:
    ```bash
    ./skill_split.py list /skills/programming/SKILL.md
    ```

    Output:
    ```
    ID  Title                             Level
    --- -------------------------------- ------
    1  Overview                         1
    2  Installation                     1
    3  Usage                            1
    4  Advanced Topics                  1
    5    Configuration Options          2
    6    Performance Tuning             2
    7  Troubleshooting                  1
    ```

    ### Get Single Section

    Load just one section by ID:
    ```bash
    ./skill_split.py get-section 42 --db ~/.claude/databases/skill-split.db
    ```

    ### Navigate Sequentially

    Get next section (sibling):
    ```bash
    ./skill_split.py next 42 /skills/programming/SKILL.md
    ```

    Navigate to first child subsection:
    ```bash
    ./skill_split.py next 42 /skills/programming/SKILL.md --child
    ```

    ### Typical Workflow

    1. List file structure to get section IDs
    2. Load specific section of interest
    3. Use `next` to navigate through content
    4. Use `--child` to drill into subsections
    5. Use `search` to find relevant content across files
    ```

    Update Quick Start section:

    ```markdown
    ## Quick Start

    ### Parse and Structure

    ```bash
    # Parse a markdown file
    ./skill_split.py parse SKILL.md

    # Validate structure
    ./skill_split.py validate SKILL.md

    # Store in database
    ./skill_split.py store SKILL.md
    ```

    ### Search and Retrieve

    ```bash
    # Search for content
    ./skill_split.py search "python handler"

    # List file sections
    ./skill_split.py list SKILL.md

    # Get specific section
    ./skill_split.py get-section 42
    ```

    ### Progressive Disclosure

    ```bash
    # Navigate sequentially
    ./skill_split.py next 42 SKILL.md

    # Drill into subsections
    ./skill_split.py next 42 SKILL.md --child
    ```
    ```

    Update Architecture section:

    ```markdown
    ## Architecture

    ### Components

    - **Parser**: Extracts structure from markdown/YAML files with heading hierarchy
    - **Database**: SQLite with FTS5 full-text search and CASCADE delete
    - **Query API**: Progressive disclosure interface (get_section, get_next_section, search)
    - **Handlers**: Plugin, hook, config, and script file parsers
    - **Recomposer**: Byte-perfect file reconstruction with SHA256 verification

    ### Search Technology

    - **FTS5**: SQLite full-text search with BM25 ranking
    - **Query Processing**: Intelligent conversion of natural language to FTS5 syntax
    - **Relevance Scoring**: BM25 algorithm ranks results by term frequency and inverse document frequency
    - **Multi-word Discovery**: OR-based search for broader content discovery
    ```

    Why: README becomes primary documentation source with complete search syntax, navigation workflows, and examples.
  </action>
  <verify>
    Run: `grep -c "Search Syntax" README.md && grep -c "Progressive Disclosure" README.md`
    Expected: Both sections exist
  </verify>
  <done>README.md updated with search syntax, navigation, and architecture sections.</done>
</task>

<task type="auto">
  <name>Task 2: Create comprehensive EXAMPLES.md</name>
  <files>EXAMPLES.md</files>
  <action>
    Create or update EXAMPLES.md with real-world workflows.

    ```markdown
    # skill-split Examples

    This document provides real-world examples of using skill-split for progressive disclosure and search.

    ## Search Workflows

    ### Finding Relevant Skills

    **Scenario:** You need a git setup command but don't know which skill has it.

    ```bash
    # Search for git-related content
    ./skill_split.py search "git setup"
    ```

    Result:
    ```
    Found 8 section(s) matching 'git setup':

    ID      Score   Title                                         File
    -------- -------- -------------------------------------------- ----------------------------------------
    156     3.42    Clone Repository                              /skills/version-control/SKILL.md
    42      2.85    Initial Setup                                 /skills/workflow/SKILL.md
    203     2.18    Configuration                                 /skills/version-control/SKILL.md
    ```

    Now you can load the specific section:

    ```bash
    ./skill_split.py get-section 156
    ```

    ### Exact Phrase Search

    **Scenario:** You need the exact "python handler" implementation, not sections about python OR handlers.

    ```bash
    # Use quotes for exact phrase
    ./skill_split.py search '"python handler"'
    ```

    ### Narrowing Results with AND

    **Scenario:** You want sections about both "python" AND "testing".

    ```bash
    # Explicit AND for narrow results
    ./skill_split.py search "python AND testing"
    ```

    ### Broad Discovery with OR

    **Scenario:** You want to find anything related to "repository" OR "storage".

    ```bash
    # Multi-word automatically uses OR (broad discovery)
    ./skill_split.py search "repository storage"

    # Or explicit OR
    ./skill_split.py search "repository OR storage"
    ```

    ## Progressive Disclosure Workflows

    ### Loading Large Skills Token-Efficiently

    **Scenario:** A skill has 50 sections. You only need the specific "Configuration" section.

    ```bash
    # Step 1: List file structure
    ./skill_split.py list /skills/programming/SKILL.md

    # Output shows:
    # ID  Title
    # --- ----------------------------------
    # 1  Overview
    # 2  Installation
    # 3  Basic Usage
    # 4  Advanced Usage
    # 5  Configuration              <-- This is what you want
    # 6  Troubleshooting

    # Step 2: Load just the Configuration section
    ./skill_split.py get-section 5 --db ~/.claude/databases/skill-split.db

    # Output:
    # --- Section Configuration (Level 1) ---
    #
    # Configuration options include:
    # - timeout: Request timeout in milliseconds
    # - retries: Number of retry attempts
    # ...
    ```

    **Token savings:** Instead of loading the entire 50-section skill (21KB), you load just one section (204 bytes) - **99% context savings**.

    ### Hierarchical Navigation

    **Scenario:** A skill has nested sections. You want to explore subsections under "Advanced Topics".

    ```bash
    # Step 1: Find the parent section ID
    ./skill_split.py list /skills/programming/SKILL.md | grep -i advanced

    # Output: 4  Advanced Topics                    1

    # Step 2: Navigate to first child subsection
    ./skill_split.py next 4 /skills/programming/SKILL.md --child

    # Output: Shows first subsection under Advanced Topics

    # Step 3: Continue navigating through siblings
    ./skill_split.py next <subsection_id> /skills/programming/SKILL.md
    ```

    ### Sequential Reading Workflow

    **Scenario:** Reading through a tutorial skill section by section.

    ```bash
    # Start with first section
    ./skill_split.py get-section 1

    # Read sequentially
    ./skill_split.py next 1 /skills/tutorial/SKILL.md
    ./skill_split.py next 2 /skills/tutorial/SKILL.md
    ./skill_split.py next 3 /skills/tutorial/SKILL.md
    # ... continue as needed
    ```

    ## Combined Search + Navigation Workflow

    ### Finding and Exploring Related Content

    **Scenario:** You're working on database optimization and want to find related skills, then explore them.

    ```bash
    # Step 1: Search for database content
    ./skill_split.py search "database optimization"

    # Result shows section 156 in /skills/backend/SKILL.md with score 3.42

    # Step 2: Load that section
    ./skill_split.py get-section 156

    # Step 3: See what else is in that skill
    ./skill_split.py list /skills/backend/SKILL.md

    # Step 4: Explore related sections
    ./skill_split.py next 156 /skills/backend/SKILL.md
    ./skill_split.py next 156 /skills/backend/SKILL.md --child  # Drill into subsections
    ```

    ### Cross-File Research

    **Scenario:** Researching how different skills handle error handling.

    ```bash
    # Search across all files
    ./skill_split.py search "error handling"

    # Results show sections from multiple files:
    # - /skills/backend/SKILL.md (section 42)
    # - /skills/frontend/SKILL.md (section 87)
    # - /skills/api/SKILL.md (section 15)

    # Compare approaches
    ./skill_split.py get-section 42  # Backend approach
    ./skill_split.py get-section 87  # Frontend approach
    ./skill_split.py get-section 15  # API approach
    ```

    ## Command Reference

    ### Search Commands

    ```bash
    # Basic search
    ./skill_split.py search "query"

    # Search in specific file
    ./skill_split.py search "query" --file /path/to/file.md

    # Use custom database
    ./skill_split.py search "query" --db /path/to/database.db
    ```

    ### Navigation Commands

    ```bash
    # List sections
    ./skill_split.py list /path/to/file.md

    # Get specific section
    ./skill_split.py get-section <id>

    # Get next sibling
    ./skill_split.py next <id> /path/to/file.md

    # Get first child
    ./skill_split.py next <id> /path/to/file.md --child
    ```

    ## Tips and Best Practices

    ### Search Tips

    1. **Start broad, then narrow:** Begin with multi-word OR search, then add AND if too many results
    2. **Use quotes for precision:** `"exact phrase"` finds exact matches
    3. **Check relevance scores:** Higher scores indicate more relevant results
    4. **Leverage file-specific search:** `--file` narrows to specific skill

    ### Navigation Tips

    1. **List first:** Always `list` the file to see structure and get IDs
    2. **Use `--child` to drill down:** Explore subsections hierarchically
    3. **Sequential with `next`:** Move through content step by step
    4. **Combine with search:** Find section ID via search, then navigate from there

    ### Token Efficiency

    - **Load specific sections:** Use `get-section` instead of loading entire files
    - **Search before loading:** Find relevant sections before retrieving full content
    - **Progressive disclosure:** Navigate through content incrementally
    - **Targeted queries:** Use precise search terms to minimize results

    ## Real-World Scenarios

    ### Scenario 1: Finding a Specific Command

    **Problem:** You remember there's a command for "branch management" but not which skill.

    ```bash
    # Search for it
    ./skill_split.py search "branch management"

    # Found in /skills/git/SKILL.md, section 23

    # Load it
    ./skill_split.py get-section 23
    ```

    ### Scenario 2: Learning a New Topic

    **Problem:** You want to learn about "vector embeddings" across all skills.

    ```bash
    # Search for the topic
    ./skill_split.py search "vector embeddings"

    # 8 results found across 3 files

    # Explore each result
    for id in 42 87 156 203 245 267 289 312; do
        echo "=== Section $id ==="
        ./skill_split.py get-section $id | head -5
    done
    ```

    ### Scenario 3: Troubleshooting an Issue

    **Problem:** You're getting a "timeout" error and want to find troubleshooting guidance.

    ```bash
    # Search for timeout + error/troubleshoot
    ./skill_split.py search "timeout error"

    # Found relevant section in /skills/api/SKILL.md

    # Explore related sections
    ./skill_split.py next 156 /skills/api/SKILL.md
    ./skill_split.py next 156 /skills/api/SKILL.md --child  # Check for specific solutions
    ```

    For more details, see:
    - [README.md](README.md) - Complete documentation
    - [CLI Reference](docs/CLI_REFERENCE.md) - All commands and options
    ```
    ```

    Why: EXAMPLES.md provides real-world workflows, demonstrates practical usage, helps users understand capabilities.
  </action>
  <verify>
    Run: `test -f EXAMPLES.md && wc -l EXAMPLES.md`
    Expected: File exists, >100 lines
  </verify>
  <done>EXAMPLES.md created with real-world search and navigation workflows.</done>
</task>

<task type="auto">
  <name>Task 3: Create CLI reference documentation</name>
  <files>docs/CLI_REFERENCE.md</files>
  <action>
    Create complete CLI command reference.

    ```markdown
    # skill-split CLI Reference

    Complete reference for all skill-split commands and options.

    ## Commands

    ### parse

    Parse a markdown or YAML file and display its structure.

    ```bash
    ./skill_split.py parse <file>
    ```

    **Example:**
    ```bash
    ./skill_split.py parse SKILL.md
    ```

    **Output:** Displays file structure with headings, levels, and content preview.

    ---

    ### validate

    Validate a file's structure and check for round-trip integrity.

    ```bash
    ./skill_split.py validate <file>
    ```

    **Example:**
    ```bash
    ./skill_split.py validate SKILL.md
    ```

    **Output:** Validation result with hash comparison or error details.

    ---

    ### store

    Parse and store a file in the database.

    ```bash
    ./skill_split.py store <file> [--db <path>]
    ```

    **Options:**
    - `--db <path>`: Database path (default: `~/.claude/databases/skill-split.db`)

    **Example:**
    ```bash
    ./skill_split.py store SKILL.md
    ./skill_split.py store SKILL.md --db /custom/path/database.db
    ```

    **Output:** File ID and section count stored.

    ---

    ### list

    List all sections in a file with their IDs and hierarchy.

    ```bash
    ./skill_split.py list <file> [--db <path>]
    ```

    **Options:**
    - `--db <path>`: Database path

    **Example:**
    ```bash
    ./skill_split.py list /skills/programming/SKILL.md
    ```

    **Output:**
    ```
    ID  Title                             Level
    --- -------------------------------- ------
    1  Overview                         1
    2  Installation                     1
    3  Usage                            1
    4    Configuration                  2
    5    Troubleshooting                2
    6  Advanced Topics                  1
    ```

    ---

    ### get-section

    Retrieve a single section by ID.

    ```bash
    ./skill_split.py get-section <id> [--db <path>]
    ```

    **Options:**
    - `--db <path>`: Database path

    **Example:**
    ```bash
    ./skill_split.py get-section 42
    ```

    **Output:** Section content with title and level.

    ---

    ### next

    Get the next section after a given section.

    ```bash
    ./skill_split.py next <section_id> <file> [--child] [--db <path>]
    ```

    **Options:**
    - `--child`: Navigate to first child subsection instead of next sibling
    - `--db <path>`: Database path

    **Examples:**
    ```bash
    # Get next sibling (default)
    ./skill_split.py next 42 /skills/programming/SKILL.md

    # Get first child subsection
    ./skill_split.py next 42 /skills/programming/SKILL.md --child
    ```

    **Output:** Next section content with title and level.

    ---

    ### search

    Search sections by query across all files or a specific file.

    ```bash
    ./skill_split.py search <query> [--file <path>] [--db <path>]
    ```

    **Options:**
    - `--file <path>`: Limit search to specific file
    - `--db <path>`: Database path

    **Search Syntax:**
    - Single word: `python`
    - Multi-word (OR): `git setup`
    - Exact phrase: `"git repository"`
    - AND search: `python AND handler`
    - OR search: `python OR handler`
    - NEAR search: `git NEAR repository`

    **Examples:**
    ```bash
    # Search all files
    ./skill_split.py search "python handler"

    # Search specific file
    ./skill_split.py search "configuration" --file /skills/api/SKILL.md

    # Exact phrase search
    ./skill_split.py search '"python handler"'

    # AND search
    ./skill_split.py search "python AND testing"
    ```

    **Output:** Results with section IDs, titles, relevance scores, and files.

    ```
    Found 5 section(s) matching 'python handler':

    ID      Score   Title                                     Level
    -------- -------- -------------------------------------------- ------
    42      3.52    Python Handler Implementation              1
    15      2.18    Advanced Python Techniques                2
    ```

    ---

    ### verify

    Verify round-trip integrity for a stored file.

    ```bash
    ./skill_split.py verify <file> [--db <path>]
    ```

    **Options:**
    - `--db <path>`: Database path

    **Example:**
    ```bash
    ./skill_split.py verify SKILL.md
    ```

    **Output:** Verification result with hash comparison.

    ---

    ## Global Options

    ### `--db`

    Specify database path for commands that access the database.

    **Default:** `~/.claude/databases/skill-split.db` (or `SKILL_SPLIT_DB` environment variable)

    **Example:**
    ```bash
    ./skill_split.py search "python" --db /custom/path/db.sqlite
    ```

    ## Environment Variables

    ### `SKILL_SPLIT_DB`

    Default database path for all commands.

    **Example:**
    ```bash
    export SKILL_SPLIT_DB=/custom/path/db.sqlite
    ./skill_split.py search "python"  # Uses /custom/path/db.sqlite
    ```

    ## Exit Codes

    - `0`: Success
    - `1`: Error occurred

    ## See Also

    - [README.md](README.md) - Complete documentation
    - [EXAMPLES.md](EXAMPLES.md) - Real-world usage examples
    - [CLAUDE.md](CLAUDE.md) - Project reference for Claude Code
    ```
    ```

    Why: CLI reference provides complete command documentation, helps users understand all options.
  </action>
  <verify>
    Run: `test -f docs/CLI_REFERENCE.md && grep -c "### " docs/CLI_REFERENCE.md`
    Expected: File exists, at least 8 command sections
  </verify>
  <done>CLI reference created with complete command documentation.</done>
</task>

<task type="auto">
  <name>Task 4: Update CLAUDE.md with search capabilities</name>
  <files>CLAUDE.md</files>
  <action>
    Update CLAUDE.md to inform Claude Code about search capabilities.

    Add to "Quick Start" section:

    ```markdown
    ### Quick Search

    ```bash
    # Search for relevant sections
    ./skill_split.py search "python handler"

    # Multi-word search (OR-based)
    ./skill_split.py search "git setup"

    # Exact phrase
    ./skill_split.py search '"python handler"'
    ```

    ### Progressive Disclosure

    ```bash
    # List file structure
    ./skill_split.py list SKILL.md

    # Get specific section (token-efficient)
    ./skill_split.py get-section 42

    # Navigate sequentially
    ./skill_split.py next 42 SKILL.md
    ```
    ```

    Add to "CLI Commands" section:

    ```markdown
    **Search:** `search` with FTS5 full-text search and BM25 ranking
    - Multi-word queries use OR for discovery
    - Quoted phrases for exact matching
    - AND/OR/NEAR operators supported
    - Relevance scores included

    **Navigation:** `list`, `get-section`, `next` for progressive disclosure
    - List shows section hierarchy with IDs
    - get-section loads single section
    - next navigates to sibling or first child (--child)
    ```
    ```

    Add new section after Core Architecture:

    ```markdown
    ## Search and Navigation

    **FTS5 Full-Text Search:**
    - BM25 ranking for relevance scoring
    - Intelligent query preprocessing (multi-word → OR)
    - Exact phrase matching with quotes
    - User operators respected (AND/OR/NEAR)

    **Progressive Disclosure:**
    - Load sections individually to minimize tokens
    - Hierarchical navigation (siblings and children)
    - Cross-file search for content discovery
    - Section IDs enable precise retrieval

    **Token Efficiency:**
    - 99% context savings: 21KB file → 204 bytes per section
    - Search before loading to find relevant content
    - Navigate incrementally through large files
    ```
    ```

    Why: CLAUDE.md informs Claude Code about search capabilities, enabling better assistance with skill-split usage.
  </action>
  <verify>
    Run: `grep -c "FTS5" CLAUDE.md && grep -c "Progressive Disclosure" CLAUDE.md`
    Expected: Both mentioned in CLAUDE.md
  </verify>
  <done>CLAUDE.md updated with search and navigation capabilities.</done>
</task>

</tasks>

<verification>
Overall verification:
1. Check all documentation exists:
   ```bash
   test -f README.md && test -f EXAMPLES.md && test -f docs/CLI_REFERENCE.md && test -f CLAUDE.md
   ```
   Expected: All files exist
2. Verify documentation completeness:
   ```bash
   grep -c "## Search" README.md
   grep -c "search" EXAMPLES.md
   grep -c "### search" docs/CLI_REFERENCE.md
   grep -c "FTS5" CLAUDE.md
   ```
   Expected: All sections documented
3. Test example commands from documentation:
   ```bash
   ./skill_split.py search "python" --db skill_split.db
   ./skill_split.py list /test/file.md --db skill_split.db 2>/dev/null || echo "Expected if file not in DB"
   ./skill_split.py next --help | grep -c child
   ```
   Expected: Commands work as documented
4. Verify cross-references:
   ```bash
   grep "EXAMPLES.md" README.md
   grep "CLI_REFERENCE.md" EXAMPLES.md
   grep "README.md" docs/CLI_REFERENCE.md
   ```
   Expected: Cross-references exist
</verification>

<success_criteria>
1. README.md documents search syntax and navigation
2. EXAMPLES.md provides real-world workflows
3. CLI reference documents all commands
4. CLAUDE.md informs Claude Code about capabilities
5. All examples tested and verified
6. Cross-references connect documentation
7. All documentation accurate and up-to-date
</success_criteria>

<output>
After completion, create `.planning/phases/02-search_fix/02-05-SUMMARY.md` with:
- Documentation files created/updated
- Example commands tested
- Cross-reference structure
- User-facing improvements
- Any documentation gaps identified
</output>
